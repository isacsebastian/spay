<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Header</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        * {
            font-family: 'Poppins', sans-serif !important;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: black;
            min-height: 100vh;
        }

        .header {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 97%;
            height: 95vh;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 500;
            border: 0 solid transparent;
            padding: 0;
            transform: translate(-50%, -50%);
            background-color: transparent;
        }

        .coordinates {
            background-color: transparent;
            width: 400px;
            height: 100px;
            position: fixed;
            top: 0%;
            left: 5%;
            display: flex;
            line-height: 75px;
            gap: 10px;
            z-index: 500;
            color: white;
        }

        .coordinatesRight {
            background-color: transparent;
            z-index: 500;
            width: 400px;
            height: 100px;
            position: fixed;
            top: 0%;
            right: -1%;
            line-height: 75px;
            color: white;
        }

        .borderLeft,
        .borderRight,
        .borderBottom {
            position: fixed;
            background-color: #D9D9D9;
            z-index: 1000;
            pointer-events: none;
        }

        .borderLeft {
            top: 50%;
            left: 1%;
            transform: translateY(-50%);
            width: 1px;
            height: 90vh;
        }

        .borderRight {
            top: 50%;
            right: 1%;
            transform: translateY(-50%);
            width: 1px;
            height: 90vh;
        }

        .borderBottom {
            bottom: 2%;
            left: 50%;
            transform: translateX(-50%);
            width: 95%;
            height: 1px;
        }

        .cornerTopLeft,
        .cornerTopRight,
        .cornerBottomLeft,
        .cornerBottomRight {
            position: fixed;
            width: 50px;
            height: 50px;
            background-color: transparent;
            z-index: 1100;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
        }

        .cornerSvg {
            width: 15px;
            height: 15px;
            stroke: #D9D9D9;
        }

        .cornerTopLeft { top: 0; left: 0; }
        .cornerTopRight { top: 0; right: 0; }
        .cornerBottomLeft { bottom: 0; left: 0; }
        .cornerBottomRight { bottom: 0; right: 0; }

        .svg {
            position: absolute;
            top: -0.6%;
            left: 50%;
            transform: translate(-50%, 0);
            width: 98%;
            height: auto;
            z-index: -1;
        }

        .svgPath {
            fill: none;
            stroke: #D9D9D9;
            stroke-width: 1;
        }

        .nav {
            position: fixed;
            top: 0%;
            left: 50%;
            transform: translate(-50%, 0);
            display: flex;
            align-items: center;
            gap: 70px;
            z-index: 500;
        }

        .nav a {
            color: white;
            text-decoration: none;
            font-weight: normal;
            font-size: 20px;
            transition: color 0.3s ease;
        }

        .nav a:hover {
            color: #ff2900;
        }

        .nav img {
            height: 24px;
            width: auto;
        }

        .home {
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: fixed;
        }

        .home h1 {
            color: white;
            font-size: 90px;
            z-index: 10;
        }

        .overlay-text {
            font-size: 2.5rem;
            line-height: 1.4;
            margin-bottom: 2rem;
            color: #D9D9D9;
        }

        .contact-button {
            padding: 1rem 2rem;
            background-color: #ff1212;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.1rem;
        }

        .centered-image {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #section3 {
            position: relative;
            color: white;
            overflow: hidden;
            height: 100vh;
        }

        #section3 video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
            opacity: 0;
        }

        #text-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            width: 100%;
            padding-left: 100px;
        }

        .line {
            overflow: hidden;
            padding: 8px 0;
        }

        .line span {
            display: block;
            color: #666;
            font-size: 70px;
            font-weight: 600;
            transform-origin: center;
        }

        #framesanimate {
            position: absolute;
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }

        .Spay {
            position: relative;
            height: 20vh;
            width: 100%;
        }

        .slider {
            position: relative;
            height: 100vh;
            width: 100%;
        }

        /* Carousel */
        carousel {
            display: flex;
            overflow: clip;
            position: relative;
            gap: 10rem;
            width: 100%;
            padding: 2rem;
        }

        carousel::before,
        carousel::after {
            content: "";
            background: linear-gradient(
                to right,
                rgb(37, 37, 37) 0%,
                rgba(255, 255, 255, 0) 100%
            );
            position: absolute;
            height: 100%;
            width: 10rem;
            z-index: 2;
        }

        carousel::after {
            right: 0;
            top: 0;
            transform: rotateZ(180deg);
        }

        carousel::before {
            left: 0;
            top: 0;
        }

        @keyframes scroll {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(calc(-10rem * 8));
            }
        }

        carousel .logo {
            object-fit: contain;
            cursor: pointer;
            min-height: 10rem;
            max-height: 10rem;
            max-width: 10rem;
            border-radius: 0.25rem;
            filter: grayscale(100%);
            animation: scroll 10s linear infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="coordinates">
            <p>-2.911632198089882,L</p>
            <p>-79.00263205962538 P</p>
        </div>
        <div class="coordinatesRight">
            <p id="processedMoney">Processed Money: 9,950,999 USD</p>
        </div>

        <div class="borderLeft"></div>
        <div class="borderRight"></div>
        <div class="borderBottom"></div>

        <div class="cornerTopLeft">
            <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg" class="cornerSvg">
                <path d="M6 0V6.25V12.5" stroke="#D9D9D9" />
                <path d="M0 6L6.25 6L12.5 6" stroke="#D9D9D9" />
            </svg>
        </div>
        <div class="cornerTopRight">
            <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg" class="cornerSvg">
                <path d="M6 0V6.25V12.5" stroke="#D9D9D9" />
                <path d="M0 6L6.25 6L12.5 6" stroke="#D9D9D9" />
            </svg>
        </div>
        <div class="cornerBottomLeft">
            <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg" class="cornerSvg">
                <path d="M6 0V6.25V12.5" stroke="#D9D9D9" />
                <path d="M0 6L6.25 6L12.5 6" stroke="#D9D9D9" />
            </svg>
        </div>
        <div class="cornerBottomRight">
            <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg" class="cornerSvg">
                <path d="M6 0V6.25V12.5" stroke="#D9D9D9" />
                <path d="M0 6L6.25 6L12.5 6" stroke="#D9D9D9" />
            </svg>
        </div>

        <header class="header">
            <svg class="svg" viewBox="0 0 1326 31" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                <path d="M0 1H357.584L386.975 30H934.127L962.538 1L1326 1" stroke="#D9D9D9" class="svgPath"/>
            </svg>

            <nav class="nav">
                <a href="#home">Home</a>
                <a href="#spay">
                    <img src="../spay/assets/spay.svg" alt="Logo de Spay" />
                </a>
                <a href="#contact">Aplica ya</a>
            </nav>
        </header>
    </div>
    <div class="Title">
        <section id="home" class="home">
            <h1 id="text" class="overlay-text">
                La Solución de Cobro <br>
                Global para Empresas<br>
                Tecnológicas
            </h1>
            <div id="button-container">
                <button class="contact-button">Contactar</button>
            </div>
            <section id="framesanimate">
            <img src="" alt="Animated Frame" class="centered-image" id="frameImage">
        </section>
        </section>
    </div>
    <div class="Spay">
    </div>
    <div class="Video">
        <section id="section3">
            <video autoplay muted loop>
                <source src="assets/spayabout.webm" type="video/webm">
                Your browser does not support the video tag.
            </video>
            <div id="text-container">
                <div class="line">
                    <span>Cobra forma global con rapidez</span>
                </div>
                <div class="line">
                    <span>y eficiencia Ophimiza tu flujo de</span>
                </div>
                <div class="line">
                    <span>efectivo. Haz crecer tu negocio.</span>
                </div>
            </div>
        </section>
    </div>

    <div class="slider">
        <section id="sectionslider">
            
        </section>
    </div>

<div id="svg-container" style="height: 150vh; background-color: transparent; justify-content: center;align-items: center;">
    <svg id="ordered-animated-svg" style="background-color: #000" width="100%" height="100vh" viewBox="0 0 161 868" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path id="primero" d="M57.4861 0.97998V4.2784" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
        <path id="segundo" d="M57.4861 8.08984V91.635" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-dasharray="9.37 5.2"/>
        <path id="tercero" d="M57.4861 93.5481V96.8465L60.3081 98.5617" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
        <path id="cuarto" d="M63.4822 100.497L106.34 126.598" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-dasharray="9.13 5.07"/>
        <path id="quinto" d="M107.93 127.566L110.745 129.281V132.579" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
        <path id="sexto" d="M110.745 136.193V245.708" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-dasharray="8.88 4.93"/>
        <path id="septimo" d="M110.745 247.511V250.809L107.916 252.502" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
        <path id="octavo" d="M104.654 254.452L5.78833 313.508" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-dasharray="9.33 5.19"/>
        <path id="noveno" d="M4.15381 314.483L1.32446 316.177V319.475" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
        <path id="decimo" d="M1.32446 323.191V435.931" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-dasharray="9.14 5.08"/>
        <path id="onceavo" d="M1.32446 437.793V441.091L4.14647 442.799" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
        <path id="doceavo" d="M7.18091 444.646L107.857 505.755" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-dasharray="8.74 4.85"/>
        <path id="treceavo" d="M109.382 506.678L112.196 508.386V511.684" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
        <path id="catorceavo" d="M112.197 515.342L112.197 868" stroke="white" stroke-width="1.5" stroke-miterlimit="10" stroke-dasharray="8.98 4.99"/>
    </svg>
</div>
<div class="brands">
    <carousel>
        <img class="logo" src="../spay/assets/american.png" />
        <img class="logo" src="../spay/assets/american.png" />
        <img class="logo" src="../spay/assets/discover.svg" />
        <img class="logo" src="../spay/assets/discover.svg" />
        <!--<img class="logo" src="">
      
        <!--DOUBLE-->
        <img class="logo" src="../spay/assets/american.png" />
        <img class="logo" src="../spay/assets/american.png" />
        <img class="logo" src="../spay/assets/discover.svg" />
        <img class="logo" src="../spay/assets/discover.svg" />
    </carousel>
</div>
    <script>
        let processedMoney = 9950999;
        const moneyElement = document.getElementById('processedMoney');
        let isInitialAnimationDone = false;

        // Animación inicial
        const initialInterval = setInterval(() => {
            if (processedMoney >= 10000000) {
                clearInterval(initialInterval);
                isInitialAnimationDone = true;
                startDailyIncrement();
                return;
            }
            processedMoney += 1000;
            updateMoneyDisplay();
        }, 30);

        function startDailyIncrement() {
            const increment = 100;
            const target = 15000000;
            const intervalTime = (24 * 60 * 60 * 1000) / 365;

            setInterval(() => {
                if (processedMoney < target) {
                    processedMoney += increment;
                    updateMoneyDisplay();
                }
            }, intervalTime);
        }

        function updateMoneyDisplay() {
            moneyElement.textContent = `Processed Money: ${processedMoney.toLocaleString('en-US')} USD`;
        }

        // Animación de texto en la sección

        gsap.registerPlugin(ScrollTrigger);

        const animation = gsap.timeline({
            scrollTrigger: {
                trigger: "#home",
                start: "top top",
                end: "bottom top",
                scrub: true,
                pin: true,
                pinSpacing: false,
                markers: true
            }
        });

        animation
            .to("#text", { opacity: 0, duration: 1 }, 0)
            .to("#button-container", { opacity: 0, duration: 1 }, 0);

        const TOTAL_FRAMES = 64;
        const IMAGE_BASE_URL = "https://www.apple.com/105/media/us/airpods-pro/2022/d2deeb8e-83eb-48ea-9721-f567cf0fffa8/anim/hero/large/";

        function getImageUrl(frame) {
            return `${IMAGE_BASE_URL}${frame.toString().padStart(4, '0')}.png`;
        }

        const frameImage = document.getElementById('frameImage');
        frameImage.src = getImageUrl(1);

        gsap.to({}, {
            scrollTrigger: {
                trigger: "#framesanimate",
                start: "top top",
                end: "75% top",
                onUpdate: (self) => {
                    const frame = Math.round(self.progress * (TOTAL_FRAMES - 1)) + 1;
                    frameImage.src = getImageUrl(frame);
                },
            },
        });

        // Animación del video al hacer scroll
        gsap.to("#section3 video", {
            scrollTrigger: {
                trigger: "#section3",
                start: "top top",
                end: "bottom top",
                scrub: true,
                pin: true,
                markers: true,
                toggleActions: "play none none reverse"
            },
            opacity: 1,
        });

        document.addEventListener('DOMContentLoaded', () => {
            // Animación inicial de entrada
            gsap.set('.line span', {
                y: 50,
                opacity: 0,
                color: '#666'
            });

            // Animación de entrada para cada línea
            gsap.to('.line span', {
                y: 0,
                opacity: 1,
                duration: 1,
                stagger: 0.2,
                ease: "power4.out",
                scrollTrigger: {
                    trigger: "#section3",
                    start: "top top",
                    end: "center center",
                    toggleActions: "play none none reverse"
                }
            });

            // Animación de color para cada línea individualmente
            document.querySelectorAll('.line span').forEach((span, index) => {
                gsap.to(span, {
                    color: '#ffffff',
                    scrollTrigger: {
                        trigger: span,
                        start: "top center+=100",
                        end: "bottom center-=100",
                        scrub: true,
                        // markers: true,
                        toggleClass: {
                            targets: span,
                            className: "active"
                        },
                        onEnter: () => {
                            gsap.to(span, {
                                color: '#ffffff',
                                duration: 0.5
                            });
                        },
                        onLeaveBack: () => {
                            gsap.to(span, {
                                color: '#666',
                                duration: 1
                            });
                        }
                    }
                });
            });
        });

        gsap.registerPlugin(ScrollTrigger);

        const svg = document.getElementById("ordered-animated-svg");
        const paths = [
            "primero",
            "segundo",
            "tercero",
            "cuarto",
            "quinto",
            "sexto",
            "septimo",
            "octavo",
            "noveno",
            "decimo",
            "onceavo",
            "doceavo",
            "treceavo",
            "catorceavo",
        ];

        // Crear una línea de tiempo GSAP
        const timeline = gsap.timeline({
            scrollTrigger: {
                trigger: "#svg-container",
                start: "top top",
                end: "bottom bottom",
                scrub: true,
                pin: true,
            },
        });

        // Iterar sobre los IDs en el orden correcto
        paths.forEach((id) => {
            const path = document.getElementById(id);
            const pathLength = path.getTotalLength();

            // Configuración inicial de stroke
            path.style.strokeDasharray = pathLength;
            path.style.strokeDashoffset = pathLength;

            // Añadir al timeline en orden
            timeline.to(path, {
                strokeDashoffset: 0,
                duration: 1,
                ease: "power1.inOut",
            }, "<+=0.2"); // Retraso opcional entre las animaciones
        });
    </script>
</body>
</html>
